syntax = "proto3";

package faas.functions.v1;

option go_package = "github.com/10Narratives/faas/pkg/faas/functions/v1;functionspb";

// import "google/api/annotations.proto";
// import "google/api/field_behavior.proto";
// import "google/longrunning/operations.proto";
// import "google/rpc/status.proto";
// import "google/protobuf/timestamp.proto";

import "faas/functions/v1/function.proto";

// Service for managing serverless functions.
service FunctionService {
  //
  rpc UploadFunction(stream UploadFunctionRequest) returns (UploadFunctionResponse);
}

//
message UploadFunctionRequest {
  oneof data {
    Function function = 1;
    bytes chunk = 2;
  }
}

//
message UploadFunctionResponse {
  Function function = 1;
}